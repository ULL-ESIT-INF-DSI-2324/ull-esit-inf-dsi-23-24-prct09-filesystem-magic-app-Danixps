<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>p09</title><meta name="description" content="Documentation for p09"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">p09</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>p09</h2></div><div class="tsd-panel tsd-typography"><a id="md:práctica-9---aplicación-para-coleccionistas-de-cartas-magic" class="tsd-anchor"></a><h1><a href="#md:práctica-9---aplicación-para-coleccionistas-de-cartas-magic">Práctica 9 - Aplicación para coleccionistas de cartas Magic</a></h1><p><em>Nombre y apellidos: <a href="https://github.com/Danixps?tab=repositories," title="Enlace Github">Daniel Bensa Expósito Paz</a></em></p>
<p><em>Asignatura: Desarrollo de Sistemas Informáticos (DSI)</em></p>
<p><a href="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-Danixps/actions/workflows/node.js.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-Danixps/actions/workflows/node.js.yml/badge.svg" alt="Tests"></a>
<a href="https://coveralls.io/github/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-Danixps?branch=main"><img src="https://coveralls.io/repos/github/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-Danixps/badge.svg?branch=main" alt="Coverage Status"></a></p>
<p><a href="https://sonarcloud.io/summary/new_code?id=ULL-ESIT-INF-DSI-2324_ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-Danixps"><img src="https://sonarcloud.io/api/project_badges/measure?project=ULL-ESIT-INF-DSI-2324_ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-Danixps&metric=alert_status" alt="Quality Gate Status"></a></p>
<a id="md:índice" class="tsd-anchor"></a><h2><a href="#md:índice">Índice</a></h2><ol>
<li><p><a href="#md:id1">Introducción</a></p>
</li>
<li><p><a href="#md:id2">Ejercicios de Tarea</a></p>
</li>
<li><p><a href="#md:id3">Conclusión</a></p>
</li>
<li><p><a href="#md:id4">Bibliografía</a></p>
</li>
</ol>
<div id='id1' />

<a id="md:1-introducción" class="tsd-anchor"></a><h2><a href="#md:1-introducción">1. Introducción</a></h2><p>El objetivo de esta práctica es desarrollar una aplicación para gestionar cartas. Para ello he tenido que inventigar los dos nuevos paquetes yargs y chalks. <code>yargs</code> para manipular y gestionar argumentos de línea de comandos. Y <code>chalk</code> que es un paquete para dar estilo a la salida de texto en la consola. Permite agregar colores y otros estilos de formato al texto que se imprime en la consola. Al principio, lo más díficil fue entender la estructura para manipular los argumentos de lineas de comandos y como funciona. Esto junto a la API síncrona de Node.js pude gestionar el sistema de archivos para la creación de directorios que serán los usuarios y dentro estarán las cartas con un identificados como nombre de archivo json, con sus propiedades definidad dentro.</p>
<div id='id2' />

<a id="md:2-ejercicio-aplicación-para-coleccionistas-de-cartas-magic" class="tsd-anchor"></a><h2><a href="#md:2-ejercicio-aplicación-para-coleccionistas-de-cartas-magic">2. Ejercicio (Aplicación para coleccionistas de cartas Magic)</a></h2><p>Para empezar creé una clase <code>Card</code> donde implmenta las caracteristicas de una carta con una interfaz <code>Card_characteristics</code>, para que la clase sea abierta a posibles modificaciones. Dejando eso a un lado de momento, empezaremos con la manipulación de argumentos en la línea de comandos empezando con el comando <code>add</code> donde creo una carta con todos los atributos requeridos que he indicado en el campo de options en builder. Al crearla , le llamo a la función <code>gestionarerrores()</code> para saber si la carta cumple unas ciertas condiciones de integridad como la de si es planeswalker tiene una puntuacion de lealtad, solo para ese tipo, o por ejemplo para solo las criaturas tienen dos valores númericos como fuerza/resistencia. Entonces si pasa todo esto creará la carta y sino pues no se creará y explicará por qué.
Dentro de la función <code>guardarcarta()</code> al pasar el gestor de errores pues comprobamos si ya existe la carta, si ya existe se notificará y sino pues se creara las cartas creando un fichero json con la api síncrona de node, en específico <code>writeFileSync</code>. Después con <code>modificarcarta</code> con el comando <code>update</code> miramos si existía ya la carta para poder modificarla con <code>existsSync(rutaArchivoid)</code> y si no existe se notificará al usuario con un mensaje, si ya existe se volvera a escribir y modificar la carta en el json. En <code>remove</code> es distintos los argumentos que construyo ya que solo necesito el user y el id, por ello llamo a la funcion <code>eliminarcarta</code> donde dentro de ella verifico si existe la carta en el fichero json, y si existe lo elimino con <code>unlinkSync(rutaArchivo)</code>, sino pues le notificaré al usuario que la carta no existe. Con el comando read pasa lo mismo que con remove ya que solo necesito el user y el id, y es por ello que llamare a <code>encontrarCarta</code> donde dentro de ella cargo todas las cartas del usuario pasado por linea de comandos y buscare con <code>find</code> en el array de cartas por su id y retornaré su información, en el caso de que no la encuentre pues se lo notificaré al usuario. En el último <code>list</code> donde muestro todas las cartas de un usuario propietario primero compruebo si tiene alguna carta y si es así hare un for each de todo el array de las cartas con las cartas cargadas del usuario, y mostraré toda su información.</p>
<div id='id3' />

<a id="md:3-conclusión" class="tsd-anchor"></a><h2><a href="#md:3-conclusión">3. Conclusión</a></h2><p>En mi caso lo mas costoso fue pasar la puerta de calidad de SonarCloud ya que debia reducir código duplicado en el gestionador de opciones en los argumentos de comandos. Es por ello que creé una estructura donde optimizaba el código en ciertos puntos donde en builder se deben construir  bastantes argumentos en el caso de añadir carta o modificar, es por ello que definí las opciones, su requerimiento si es obligatorio o no, para cada caso de los atributos, id,name,type.... y después lo convierto en un objeto para manipularlo con yargs.</p>
<div id='id4' />

<a id="md:4-bibliografía" class="tsd-anchor"></a><h2><a href="#md:4-bibliografía">4. Bibliografía</a></h2><p><a href="https://ull-esit-inf-dsi-2324.github.io/prct09-fiilesystem-magic-app/">Guión de la Práctica 9</a></p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:práctica-9---aplicación-para-coleccionistas-de-cartas-magic"><span>Práctica 9 -<wbr/> <wbr/>Aplicación para coleccionistas de cartas <wbr/>Magic</span></a><ul><li><a href="#md:índice"><span>Índice</span></a></li><li><a href="#md:1-introducción"><span>1. <wbr/>Introducción</span></a></li><li><a href="#md:2-ejercicio-aplicación-para-coleccionistas-de-cartas-magic"><span>2. <wbr/>Ejercicio (<wbr/>Aplicación para coleccionistas de cartas <wbr/>Magic)</span></a></li><li><a href="#md:3-conclusión"><span>3. <wbr/>Conclusión</span></a></li><li><a href="#md:4-bibliografía"><span>4. <wbr/>Bibliografía</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="index.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>p09</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><div class="tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div></body></html>